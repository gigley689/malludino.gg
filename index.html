<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>malludino.gg</title>
<style>
body{
    margin:0;
    font-family:Arial;
    background:#111;
    color:white;
    text-align:center;
}
h1{margin-top:40px;}
button{
    padding:12px 25px;
    margin:10px;
    font-size:18px;
    border:none;
    cursor:pointer;
    border-radius:8px;
}
#normalBtn{background:#00cc66;}
#rishiBtn{background:#ff4444;}
#menu{margin-top:50px;}
canvas{
    background:white;
    display:none;
    margin:auto;
    border:3px solid black;
}
#gameOver{
    display:none;
    font-size:24px;
    margin-top:20px;
}
</style>
</head>
<body>

<h1>malludino.gg</h1>

<div id="menu">
    <button id="normalBtn">Normal Mode</button>
    <button id="rishiBtn">Rishi Mode</button>
</div>

<canvas id="gameCanvas" width="900" height="250"></canvas>

<div id="gameOver">
    Game Over! <br>
    <button onclick="restartGame()">Restart</button>
</div>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

const menu = document.getElementById("menu");
const gameOverText = document.getElementById("gameOver");

let dinoMode = "normal";
let dinoY = 180;
let velocity = 0;
let gravity = 0.8;
let jumping = false;
let obstacleX = 900;
let speed = 6;
let gameRunning = false;

const rishiImg = new Image();
rishiImg.src = "rishi.png";

function startGame(mode){
    dinoMode = mode;
    menu.style.display = "none";
    canvas.style.display = "block";
    gameRunning = true;
    gameLoop();
}

document.getElementById("normalBtn").onclick = ()=>startGame("normal");
document.getElementById("rishiBtn").onclick = ()=>startGame("rishi");

document.addEventListener("keydown", jump);
canvas.addEventListener("click", jump);

function jump(){
    if(!jumping && gameRunning){
        velocity = -14;
        jumping = true;
    }
}

function drawDino(){
    if(dinoMode === "normal"){
        ctx.fillStyle="black";
        ctx.fillRect(80, dinoY, 40, 40);
    }else{
        ctx.drawImage(rishiImg, 80, dinoY, 50, 50);
    }
}

function drawObstacle(){
    ctx.fillStyle="green";
    ctx.fillRect(obstacleX, 190, 25, 50);
}

function update(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    velocity += gravity;
    dinoY += velocity;

    if(dinoY >= 180){
        dinoY = 180;
        jumping = false;
    }

    obstacleX -= speed;
    if(obstacleX < -20){
        obstacleX = 900;
    }

    drawDino();
    drawObstacle();

    // Collision
    if(obstacleX < 120 && obstacleX > 60 && dinoY > 160){
        endGame();
    }
}

function gameLoop(){
    if(!gameRunning) return;
    update();
    requestAnimationFrame(gameLoop);
}

function endGame(){
    gameRunning = false;
    gameOverText.style.display="block";
}

function restartGame(){
    obstacleX = 900;
    dinoY = 180;
    velocity = 0;
    gameOverText.style.display="none";
    gameRunning = true;
    gameLoop();
}
</script>

</body>
</html>
